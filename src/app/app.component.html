<div class="container-fluid p-5" [ngClass]="{ darkContainer: dark, lightContainer: !dark }">
  <div [ngClass]="{ dark1: dark, light1: !dark }" class="text-white p-2 brt">
    <span class="h4">HomeBridge Youth Society</span>
    <button mat-button class="float-end botao text-black my-auto example-ripple-container" matRipple (click)="chgmode()">{{ getButtonMode() }}</button>
  </div>
  <div [ngClass]="{ dark2: dark, light2: !dark }" style="position: relative;" class="text-white p-4 brb mat-elevation-z8">
    <div class="row justify-content-between mx-3">
      <span>What do you want to load?</span>
      <mat-button-toggle-group  #group="matButtonToggleGroup" class="w-auto px-0" name="fontStyle" aria-label="Font Style" (click)="selection(group.value)">
        <mat-button-toggle value="Test">Test</mat-button-toggle>
        <mat-button-toggle value="Candidate">Candidate</mat-button-toggle>
        <mat-button-toggle value="Both">Both</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <div class="droparea">
      <label for="file-input" class="dropfile row">
        <span class="text-center my-auto h5">Drop file here or click to upload</span>
        <mat-icon class="material-icons-outlined mx-auto upload-icon p-0 pe-5">file_upload</mat-icon>
      </label>
      <input type="file" id="file-input" accept="text/plain" class="d-none" (change)="loadFile($event)" size="20"/>
    </div>
    <div class="w-30 mx-auto pt-3">
        <div class="d-block card text-black my-1" *ngIf="file">
          <div class="d-flex py-2">
            <mat-icon class="material-icons-outlined me-4 file-icon" [ngStyle]="{'color': !dark ? '#620BEE' : '#BB86FC'}">insert_drive_file</mat-icon>
            <div class="d-block">
              <span>{{ file.name }}</span>
              <br>
              <small style="color: #828080">{{ file.size / 1000 | number: '1.0-0' }} KB</small>
              <br>
            </div>
          </div>
          <div class="progress mx-2 mb-1" *ngIf="fprogress">
            <div class="progress-bar" role="progressbar" [ngStyle]="{'width': fprogress + '%' }" aria-valuenow="fprogress" aria-valuemin="0" aria-valuemax="100">{{ fprogress }}%</div>
          </div>
        </div>
    </div>
  </div>
  <!-- *ngIf="obj && loadType" -->
  <div *ngIf="obj && loadType" [ngClass]="{ dark3: dark, light3: !dark }" class="p-5 mat-elevation-z8 round-bottom">
    <h1 class="text-center py-3 title">{{ loadType }}</h1>
    <div class="row" *ngIf="loadType == 'Test'">
      <div class="card details-card mat-elevation-z8 col-xs-12 col-sm-12 col-md-5" style="background-color: #3706B3; color: white">
        <div class="card-header card-title py-2" style="background-color: #2d009e;">Knoledge of Assessment Details</div>
        <div class="card-body">
          <div class="user-properties">
            <p class="card-text my-0">Name: <span class="w">{{ obj.general.test.name }}</span></p>
            <p class="card-text my-0">Id: <span class="w">{{ obj.general.test.id }}</span></p>
            <p class="card-text my-0">Survey Date: <span class="w">{{ obj.general.surveyDate | date: 'short' }}</span></p>
            <p class="card-text my-0">Access Code: <span class="w">{{ obj.general.testCode }}</span></p>
            <p class="card-text my-0">Worth: <span class="w">{{ obj.general.test.worth }}</span></p>
            <p class="card-text my-0">Number of Questions: <span class="w">{{ obj.questions.length }}</span></p>
            <p class="card-text my-0">Multiple-Choice: <span class="w">{{ questTypes.mult }}</span></p>
            <p class="card-text my-0">Short Answer: <span class="w">{{ questTypes.short }}</span></p>
            <p class="card-text my-0">True-False: <span class="w">{{ questTypes.tf }}</span></p>
            <p class="card-text my-0">Access Code: <span class="w">{{ obj.general.testCode }}</span></p>
          </div>
          <a href="#knoledgeAssessment" class="btn btn-primary mt-2 float-end">See Details</a>
        </div>
      </div>
      <div class="card mat-elevation-z8 col">
        <div class="card-header card-title py-2" style="background-color: #EADFFC; color: white;">{{ obj.general.test.name }}</div>
        <div class="card-body" *ngFor="let q of obj.questions; let i = index">
          <p class="card-text">{{ i + 1 }} - {{ q.title }}</p>
          <div *ngFor="let a of q.alternatives;">
            <input type="radio" [checked]="a.correct">
            <label for="" class="ms-2">{{ a.letter }} {{ a.text }}</label>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="loadType == 'Candidate'">
      2
    </div>
    <div *ngIf="loadType == 'Both'">
      2
    </div>
    <pre>{{ obj | json }}</pre>
  </div>
</div>


